<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://ipapi.co" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <meta name="theme-color" content="#4f71f0" />
  <title>Vilken vecka √§r det? ‚Äì Veckonummer 2026 i Sverige | VilketVeckonummer.se</title>
  <meta name="description" content="Vilket veckonummer √§r det idag 2026? Se aktuell vecka, kalender med r√∂da dagar, skollov per l√§n och alla svenska helgdagar. Uppdateras automatiskt ‚Äì VilketVeckonummer.se." />
  <meta name="keywords" content="veckonummer, vilken vecka √§r det, veckonummer 2026, aktuell vecka, kalender, skollov, r√∂da dagar, Sverige, vecka idag, ISO 8601, midsommar 2026, sommarlov 2026, h√∂stlov 2026, p√•sklov 2026, sportlov 2026, helgdagar 2026" />
  <meta name="robots" content="index, follow" />
  <meta name="author" content="VilketVeckonummer.se" />
  <meta name="geo.region" content="SE" />
  <meta name="geo.placename" content="Sverige" />
  <link rel="canonical" href="https://www.vilketveckonummer.se/" />
  <link rel="alternate" hreflang="sv" href="https://www.vilketveckonummer.se/" />
  <!-- Open Graph -->
  <meta property="og:title" content="Vilken vecka √§r det? ‚Äì VilketVeckonummer.se" />
  <meta property="og:description" content="Se aktuellt veckonummer, kalender med r√∂da dagar och skollov f√∂r ditt l√§n." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.vilketveckonummer.se/" />
  <meta property="og:image" content="https://www.vilketveckonummer.se/favicon.svg" />
  <meta property="og:locale" content="sv_SE" />
  <meta property="og:site_name" content="VilketVeckonummer.se" />
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Vilken vecka √§r det? ‚Äì VilketVeckonummer.se" />
  <meta name="twitter:description" content="Se aktuellt veckonummer, kalender med r√∂da dagar och skollov f√∂r ditt l√§n i Sverige." />
  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "https://www.vilketveckonummer.se/#website",
        "url": "https://www.vilketveckonummer.se/",
        "name": "VilketVeckonummer.se",
        "description": "Aktuellt veckonummer, kalender med r√∂da dagar och skollov f√∂r alla svenska l√§n.",
        "inLanguage": "sv-SE"
      },
      {
        "@type": "WebPage",
        "@id": "https://www.vilketveckonummer.se/#webpage",
        "url": "https://www.vilketveckonummer.se/",
        "name": "Vilken vecka √§r det? ‚Äì Veckonummer 2026 i Sverige",
        "isPartOf": { "@id": "https://www.vilketveckonummer.se/#website" },
        "description": "Se vilket veckonummer det √§r idag 2026 i Sverige med kalender, r√∂da dagar och skollov per l√§n.",
        "datePublished": "2025-01-01",
        "dateModified": "2026-03-01",
        "inLanguage": "sv-SE",
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            { "@type": "ListItem", "position": 1, "name": "Hem", "item": "https://www.vilketveckonummer.se/" }
          ]
        }
      },
      {
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Vilken vecka √§r det just nu?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Aktuellt veckonummer visas l√∂pande p√• VilketVeckonummer.se. Veckonumret ber√§knas enligt ISO 8601 ‚Äì den standard som anv√§nds i Sverige och hela Norden. Veckan b√∂rjar p√• m√•ndag och vecka 1 √§r alltid den vecka som inneh√•ller √•rets f√∂rsta torsdag."
            }
          },
          {
            "@type": "Question",
            "name": "N√§r b√∂rjar och slutar en vecka i Sverige?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "I Sverige b√∂rjar veckan p√• m√•ndag och slutar p√• s√∂ndag, enligt ISO 8601-standarden som anv√§nds i hela Norden. Detta skiljer sig fr√•n t.ex. USA d√§r veckan traditionellt b√∂rjar p√• s√∂ndag."
            }
          },
          {
            "@type": "Question",
            "name": "Hur r√§knar man ut veckonumret?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Vecka 1 √§r alltid den vecka som inneh√•ller √•rets f√∂rsta torsdag. Ett √•r har 52 eller 53 veckor. Om 1 januari infaller p√• en fredag, l√∂rdag eller s√∂ndag tillh√∂r den f√∂reg√•ende √•rets sista vecka."
            }
          },
          {
            "@type": "Question",
            "name": "N√§r √§r sportlovet 2026?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Sportlovet 2026 ligger olika beroende p√• l√§n: Norra Sverige (v.8, 16‚Äì20 feb), Mellansverige (v.7, 9‚Äì13 feb) och S√∂dra Sverige (v.9, 23‚Äì27 feb). V√§lj ditt l√§n i kalendern f√∂r att se exakta datum."
            }
          },
          {
            "@type": "Question",
            "name": "Vilka √§r Sveriges r√∂da dagar?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Sveriges officiella helgdagar √§r: Ny√•rsdagen (1 jan), Trettondedag jul (6 jan), L√•ngfredag, P√•skdagen, Annandag p√•sk, Kristi himmelsf√§rdsdag, Pingstdagen, Nationaldagen (6 jun), Midsommardagen, Alla helgons dag, Juldagen (25 dec) och Annandag jul (26 dec)."
            }
          },
          {
            "@type": "Question",
            "name": "N√§r √§r p√•sklovet 2026?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "P√•sklovet 2026 infaller vecka 14, med start 2 april och slut 9 april. Detta g√§ller f√∂r de flesta l√§n men kan variera n√•gra dagar beroende p√• kommun."
            }
          },
          {
            "@type": "Question",
            "name": "Hur m√•nga veckor √§r det √•r 2026?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "√Ör 2026 inneh√•ller 53 ISO-veckor. Vecka 53 b√∂rjar m√•ndag 28 december 2026 och str√§cker sig in i januari 2027. Det h√§nder de √•r d√• 1 januari infaller p√• en torsdag eller fredag."
            }
          },
          {
            "@type": "Question",
            "name": "Vilken vecka b√∂rjar 2026?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Vecka 1 √•r 2026 b√∂rjar m√•ndag 29 december 2025 och slutar s√∂ndag 4 januari 2026. Det beror p√• att vecka 1 alltid √§r den vecka som inneh√•ller √•rets f√∂rsta torsdag ‚Äì och den f√∂rsta torsdagen 2026 √§r 1 januari."
            }
          },
          {
            "@type": "Question",
            "name": "Midsommar 2026 ‚Äì vilken vecka?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Midsommarafton 2026 √§r fredagen den 19 juni och Midsommardagen √§r l√∂rdagen den 20 juni. Dessa dagar infaller vecka 25. Midsommarhelgen firas alltid den fredag‚Äìl√∂rdag som infaller n√§rmast 24 juni."
            }
          },
          {
            "@type": "Question",
            "name": "Sommarlov 2026 ‚Äì vilka veckor?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Sommarlovet 2026 startar f√∂r de flesta elever omkring vecka 24‚Äì25 (i mitten av juni) och slutar vecka 33‚Äì34 (i mitten av augusti). Exakta datum varierar per skola och kommun. V√§lj ditt l√§n i kalendern p√• VilketVeckonummer.se f√∂r att se lovmarkering."
            }
          },
          {
            "@type": "Question",
            "name": "H√∂stlov 2026 ‚Äì vilken vecka?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "H√∂stlovet 2026 infaller f√∂r de flesta skolor vecka 44 (26‚Äì30 oktober). Precis som med √∂vriga skollov kan datumen variera med n√•gra dagar beroende p√• l√§nets schema."
            }
          }
        ]
      }
    ]
  }
  </script>
  <style>
    :root {
      --bg:          #c8d4f0;
      --surface:     #ffffff;
      --surface2:    rgba(255,255,255,0.7);
      --border:      rgba(99,102,241,0.15);
      --text:        #1e2250;
      --muted:       #6470a0;
      --faded:       #a0aac8;
      --accent1:     #4f71f0;
      --accent2:     #a78bfa;
      --red:         #e0394a;
      --red-light:   rgba(224,57,74,0.1);
      --red-faded:   rgba(224,57,74,0.18);
      --green:       #046b4a;
      --green-bg:    rgba(4,107,74,0.12);
      --green-faded: rgba(4,107,74,0.05);
      --today-bg:    linear-gradient(135deg,#4f71f0,#a78bfa);
      --card-shadow: 0 12px 48px rgba(30,34,80,0.22), 0 1px 0 rgba(255,255,255,0.9) inset;
    }

    * { margin:0; padding:0; box-sizing:border-box; }

    @keyframes fade-up {
      from { opacity:0; transform:translateY(22px); }
      to   { opacity:1; transform:translateY(0); }
    }
    @keyframes pulse-glow {
      0%,100% { text-shadow: 0 0 0px transparent; }
      50%      { text-shadow: 0 0 40px rgba(96,165,250,0.35); }
    }

    /* Helsides s√§songsbakgrund */
    #pg-bg {
      position: fixed;
      inset: 0;
      z-index: 0;
      overflow: hidden;
    }
    #pg-bg img {
      width: 100%; height: 100%;
      object-fit: cover;
      filter: blur(4px) brightness(0.88) saturate(1.05);
      transform: scale(1.01);
      transition: opacity 0.6s;
    }

    body {
      min-height: 100vh;
      background: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      overflow-x: hidden;
    }

    /* L√§gesindikator layout √∂ver bakgrunden */
    .layout {
      display: grid;
      grid-template-columns: 160px 1fr 160px;
      grid-template-rows: auto;
      gap: 0 1.25rem;
      max-width: 1060px;
      margin: 0 auto;
      padding: 2.5rem 1rem 5rem;
      align-items: start;
      position: relative;
      z-index: 1;
    }

    .huvud {
      grid-column: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
    }

    /* Annonskolumner */
    .annons-col {
      position: sticky;
      top: 2rem;
      display: none; /* aktivera efter AdSense-godk√§nnande med riktiga slot-ID */
      flex-direction: column;
      gap: 1rem;
    }

    .annons-yta {
      background: var(--surface);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1.5px dashed var(--border);
      border-radius: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--faded);
      font-size: 0.68rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      gap: 0.4rem;
    }
    .annons-yta .annons-ikon { font-size: 1.4rem; opacity: 0.4; }
    .annons-sky  { width: 160px; height: 600px; }
    .annons-band { width: 100%; height: 90px; border-radius: 0.9rem; flex-direction: row; gap: 0.6rem; }

    /* ‚îÄ‚îÄ Veckokortet ‚îÄ‚îÄ */
    .card {
      width: 100%;
      max-width: 552px;
      text-align: center;
      padding: 0 3rem 2.1rem;
      background: #ffffff;
      border: none;
      border-radius: 1.75rem;
      box-shadow: var(--card-shadow);
      position: relative;
      overflow: hidden;
      animation: fade-up 0.55s cubic-bezier(.22,1,.36,1) both;
    }

    .sasong-bild {
      margin: 0 -3rem 1.8rem -3rem;
      position: relative;
    }
    .sasong-bild img {
      width: 100%;
      height: auto;
      display: block;
      transition: opacity 0.4s;
    }
    .sasong-bild::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 40%, rgba(255,255,255,0.85) 100%);
      pointer-events: none;
    }

    .vecka-etikett {
      font-size: 0.82rem;
      font-weight: 800;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.1rem;
    }

    .vecka-siffra {
      font-size: 8.4rem;
      font-weight: 900;
      line-height: 1;
      background: var(--today-bg);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -0.03em;
      animation: pulse-glow 4s ease-in-out infinite;
    }

    .vecka-datum {
      margin-top: 0.7rem;
      font-size: 1.14rem;
      color: var(--muted);
      font-weight: 500;
    }

    .vecka-lov-banner {
      margin-top: 0.65rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      background: var(--green-bg);
      border: 1px solid rgba(5,150,105,0.2);
      color: var(--green);
      font-size: 0.78rem;
      font-weight: 700;
      padding: 0.3rem 0.75rem;
      border-radius: 99px;
    }
    .vecka-lov-banner.dold { display: none; }

    .alla-veckor-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 1.4rem;
      padding: 0.85rem 2.2rem;
      background: var(--today-bg);
      color: #fff;
      font-size: 1rem;
      font-weight: 900;
      letter-spacing: 0.03em;
      text-decoration: none;
      border-radius: 0.9rem;
      box-shadow: 0 4px 0 rgba(50,70,180,0.35), 0 6px 18px rgba(79,113,240,0.3);
      border: none;
      transition: transform 0.1s, box-shadow 0.1s;
    }
    .alla-veckor-btn::after {
      content: '‚Üí';
      font-size: 1.1rem;
    }
    .alla-veckor-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 0 rgba(50,70,180,0.35), 0 10px 24px rgba(79,113,240,0.35);
    }
    .alla-veckor-btn:active {
      transform: translateY(2px);
      box-shadow: 0 2px 0 rgba(50,70,180,0.35), 0 3px 10px rgba(79,113,240,0.2);
    }

    /* ‚îÄ‚îÄ Annonsband (mellanrum) ‚îÄ‚îÄ */
    .annons-mellan {
      display: none; /* aktivera efter AdSense-godk√§nnande med riktiga slot-ID */
      width: 100%;
      max-width: 552px;
    }

    /* ‚îÄ‚îÄ Kalenderkort ‚îÄ‚îÄ */
    .cal-card {
      background: #ffffff;
      border: none;
      border-radius: 1.75rem;
      box-shadow: var(--card-shadow);
      padding: 1.7rem 1.9rem 1.9rem;
      width: 100%;
      max-width: 552px;
      position: relative;
      overflow: hidden;
      animation: fade-up 0.65s 0.1s cubic-bezier(.22,1,.36,1) both;
    }
    .cal-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 3px;
      background: var(--today-bg);
      border-radius: 1.75rem 1.75rem 0 0;
    }

    .cal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .cal-title {
      font-size: 1.2rem;
      font-weight: 800;
      text-transform: capitalize;
      color: var(--text);
    }

    .cal-nav {
      background: var(--surface2);
      border: 1px solid var(--border);
      color: var(--muted);
      width: 2.2rem;
      height: 2.2rem;
      border-radius: 0.55rem;
      cursor: pointer;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.15s;
      line-height: 1;
    }
    .cal-nav:hover {
      background: var(--accent1);
      border-color: var(--accent1);
      color: #fff;
    }

    /* l√§nsdropdown */
    .lans-rad {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 1rem;
      background: #f0f3ff;
      border: 1px solid var(--border);
      border-radius: 0.7rem;
      padding: 0.4rem 0.7rem;
    }
    .lans-rad label {
      font-size: 0.7rem;
      font-weight: 800;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--muted);
      white-space: nowrap;
    }
    .lans-val {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 0.85rem;
      font-family: inherit;
      font-weight: 600;
      cursor: pointer;
      outline: none;
    }
    .lans-val option { background: #eef2ff; color: #1e2250; }

    /* rutn√§t */
    .cal-grid {
      display: grid;
      grid-template-columns: 2.65rem repeat(7, 1fr);
      gap: 3px;
    }

    .cal-cell {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 2.7rem;
      font-size: 0.97rem;
      border-radius: 0.6rem;
      position: relative;
      transition: background 0.1s;
    }

    /* veckodagsrubriker */
    .cal-cell.vd {
      font-size: 0.8rem;
      font-weight: 800;
      letter-spacing: 0.07em;
      color: var(--muted);
      height: 2rem;
      text-transform: uppercase;
    }
    .cal-cell.vd.son { color: var(--red); }

    /* veckonummer */
    .cal-cell.vk {
      color: var(--faded);
      font-size: 0.8rem;
      font-weight: 800;
      letter-spacing: 0.04em;
      border-radius: 0.4rem;
      transition: background 0.15s, color 0.15s;
    }
    .cal-cell.vk.nu { color: var(--accent1); background: rgba(37,99,235,0.07); }
    .cal-cell.vk.lov-vk { color: var(--green); background: rgba(5,150,105,0.1); }
    .cal-cell.vk.nu.lov-vk { color: var(--accent1); background: rgba(37,99,235,0.07); }

    /* h√∂rn */
    .cal-cell.horn {
      font-size: 0.72rem;
      color: var(--faded);
      font-weight: 800;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    /* dag */
    .cal-cell.dag        { color: var(--faded); font-weight: 500; }
    .cal-cell.dag.inne   { color: var(--text); font-weight: 500; }
    .cal-cell.dag.inn.inne:hover { background: #eef1fb; }
    .cal-cell.dag.rod    { color: var(--red); font-weight: 600; }
    .cal-cell.dag.rod.tonad { color: var(--red-faded); }
    .cal-cell.dag.tonad  { color: var(--faded); }

    /* skollov */
    .cal-cell.dag.lov       { background: var(--green-bg); }
    .cal-cell.dag.lov.tonad { background: var(--green-faded); }
    .cal-cell.dag.lov::after {
      content: '';
      position: absolute;
      bottom: 2px;
      width: 3px; height: 3px;
      border-radius: 50%;
      background: var(--green);
      opacity: 0.8;
    }

    /* idag */
    .cal-cell.dag.idag {
      background: var(--today-bg) !important;
      color: #fff !important;
      font-weight: 900;
      box-shadow: 0 2px 8px rgba(37,99,235,0.3);
    }
    .cal-cell.dag.idag::after { display: none; }

    [title] { cursor: help; }

    /* FAQ-sektion */
    .faq-sektion {
      width: 100%;
      max-width: 552px;
    }
    .faq-sektion h2 {
      font-size: 1rem;
      font-weight: 800;
      color: var(--muted);
      letter-spacing: 0.05em;
      text-transform: uppercase;
      margin-bottom: 0.75rem;
      text-align: center;
    }
    .faq-item {
      background: #ffffff;
      border: 1px solid var(--border);
      border-radius: 1rem;
      margin-bottom: 0.5rem;
      overflow: hidden;
    }
    .faq-item summary {
      padding: 0.85rem 1.1rem;
      font-size: 0.88rem;
      font-weight: 700;
      color: var(--text);
      cursor: pointer;
      list-style: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }
    .faq-item summary::-webkit-details-marker { display: none; }
    .faq-item summary::after {
      content: '+';
      font-size: 1.1rem;
      color: var(--accent1);
      flex-shrink: 0;
      transition: transform 0.2s;
    }
    .faq-item[open] summary::after { transform: rotate(45deg); }
    .faq-item p {
      padding: 0 1.1rem 0.9rem;
      font-size: 0.84rem;
      line-height: 1.65;
      color: var(--muted);
    }

    /* Sidfot-nav */
    .sajt-footer {
      width: 100%;
      max-width: 552px;
      text-align: center;
    }
    .sajt-footer nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.3rem 1.1rem;
      margin-bottom: 0.5rem;
    }
    .sajt-footer nav a {
      color: var(--muted);
      font-size: 0.72rem;
      font-weight: 600;
      text-decoration: none;
      transition: color 0.15s;
    }
    .sajt-footer nav a:hover { color: var(--accent1); }
    .sajt-footer p {
      font-size: 0.62rem;
      color: var(--muted);
    }

    /* f√∂rklaring */
    .forklaring {
      margin-top: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem 1rem;
      justify-content: center;
    }

    /* lovlista under kalendern */
    .lov-lista {
      margin-top: 0.9rem;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }
    .lov-lista:empty { display: none; }
    .lov-rad {
      display: flex;
      align-items: baseline;
      gap: 0.55rem;
      background: var(--green-bg);
      border: 1px solid rgba(5,150,105,0.2);
      border-radius: 0.6rem;
      padding: 0.45rem 0.75rem;
    }
    .lov-rad-namn {
      font-size: 0.82rem;
      font-weight: 800;
      color: var(--green);
      white-space: nowrap;
    }
    .lov-rad-datum {
      font-size: 0.78rem;
      color: var(--muted);
      font-weight: 500;
    }
    .lov-rad-vecka {
      margin-left: auto;
      font-size: 0.72rem;
      font-weight: 700;
      color: var(--green);
      opacity: 0.7;
      white-space: nowrap;
    }
    .fk-item {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.7rem;
      color: var(--muted);
      font-weight: 600;
    }
    .prick {
      width: 0.5rem; height: 0.5rem;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .prick-rod  { background: var(--red); }
    .prick-gron { background: var(--green); }
    .prick-bla  { background: var(--accent1); }

    footer {
      font-size: 0.66rem;
      color: var(--faded);
      text-align: center;
    }

    /* Responsivt */
    @media (max-width: 780px) {
      .layout {
        grid-template-columns: 1fr;
        padding: 1.5rem 0.75rem 4rem;
      }
      .annons-col { display: none; }
      .huvud { grid-column: 1 / -1; align-items: stretch; }
      .card, .annons-mellan, .cal-card { max-width: 100%; }
    }

    /* ‚îÄ‚îÄ Toppnavigation ‚îÄ‚îÄ */
    .site-header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(220,228,248,0.72);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      border-bottom: 1px solid rgba(255,255,255,0.4);
      padding: 0.7rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }
    .site-header .logo {
      font-size: 1rem;
      font-weight: 900;
      color: var(--accent1);
      text-decoration: none;
      letter-spacing: -0.01em;
      white-space: nowrap;
    }
    .site-header nav {
      display: flex;
      align-items: center;
      gap: 0.2rem 1.2rem;
      flex-wrap: wrap;
    }
    .site-header nav a {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--muted);
      text-decoration: none;
      transition: color 0.15s;
    }
    .site-header nav a:hover { color: var(--accent1); }
    @media (max-width: 500px) {
      .site-header { padding: 0.6rem 1rem; }
      .site-header .logo { font-size: 0.85rem; }
      .site-header nav a { font-size: 0.72rem; }
    }
  </style>
  <!-- Google Consent Mode v2 ‚Äì standardv√§rden (nekat tills samtycke ges) -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('consent','default',{'ad_storage':'denied','analytics_storage':'denied','ad_user_data':'denied','ad_personalization':'denied','wait_for_update':500});
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3379757990050247" crossorigin="anonymous"></script>
</head>
<body>

<!-- Helsides s√§songsbakgrund -->
<div id="pg-bg"><img id="pg-bg-img" alt="" /></div>

<header class="site-header">
  <a class="logo" href="/"><span style="font-weight:400">Vilket</span><span style="font-weight:900">Veckonummer</span><span style="font-weight:500">.se</span></a>
  <nav>
    <a href="veckor/index.html">Alla veckor</a>
    <a href="om-oss.html">Om sajten</a>
    <a href="kontakt.html">Kontakt</a>
    <a href="integritetspolicy.html">Integritetspolicy</a>
  </nav>
</header>

<div class="layout">

  <!-- V√§nster annons (l√§gg till slot-ID efter godk√§nnande) -->
  <aside class="annons-col">
  </aside>

  <!-- Huvudinneh√•ll -->
  <main class="huvud">

    <!-- Veckokortet -->
    <div class="card">
      <div class="sasong-bild">
        <img id="sasong-img" alt="" />
      </div>
      <h1 class="vecka-etikett">Vecka</h1>
      <p class="vecka-siffra" id="vecka-siffra"></p>
      <p class="vecka-datum"  id="vecka-datum"></p>
      <p class="vecka-lov-banner dold" id="vecka-lov-banner">üéâ <span id="vecka-lov-namn"></span></p>
      <a href="veckor/index.html" class="alla-veckor-btn">Alla veckor</a>
    </div>

    <!-- Annonsband (l√§gg till slot-ID efter godk√§nnande) -->
    <div class="annons-mellan">
    </div>

    <!-- Kalender -->
    <div class="cal-card">
      <div class="cal-header">
        <button class="cal-nav" id="prev" title="F√∂reg√•ende m√•nad">&#8592;</button>
        <span class="cal-title" id="cal-title"></span>
        <button class="cal-nav" id="next" title="N√§sta m√•nad">&#8594;</button>
      </div>

      <div class="lans-rad">
        <label for="lan">L√§nslov:</label>
        <select class="lans-val" id="lan">
          <option value="">‚Äî Inget valt ‚Äî</option>
          <optgroup label="Norrland">
            <option value="norrbotten">Norrbottens l√§n</option>
            <option value="vasterbotten">V√§sterbottens l√§n</option>
            <option value="vasternorrland">V√§sternorrlands l√§n</option>
            <option value="jamtland">J√§mtlands l√§n</option>
          </optgroup>
          <optgroup label="Mellansverige">
            <option value="gavleborg">G√§vleborgs l√§n</option>
            <option value="dalarna">Dalarnas l√§n</option>
            <option value="varmland">V√§rmlands l√§n</option>
            <option value="orebro">√ñrebro l√§n</option>
            <option value="vastmanland">V√§stmanlands l√§n</option>
            <option value="uppsala">Uppsala l√§n</option>
            <option value="stockholm">Stockholms l√§n</option>
            <option value="sodermanland">S√∂dermanlands l√§n</option>
          </optgroup>
          <optgroup label="√ñstsverige">
            <option value="ostergotland">√ñsterg√∂tlands l√§n</option>
            <option value="jonkoping">J√∂nk√∂pings l√§n</option>
            <option value="kalmar">Kalmar l√§n</option>
            <option value="gotland">Gotlands l√§n</option>
          </optgroup>
          <optgroup label="Sydsverige">
            <option value="blekinge">Blekinge l√§n</option>
            <option value="kronoberg">Kronobergs l√§n</option>
            <option value="skane">Sk√•ne l√§n</option>
            <option value="halland">Hallands l√§n</option>
            <option value="vastragotaland">V√§stra G√∂talands l√§n</option>
          </optgroup>
        </select>
      </div>

      <div class="cal-grid" id="cal-grid"></div>

      <div class="lov-lista" id="lov-lista"></div>

      <div class="forklaring">
        <span class="fk-item"><span class="prick prick-rod"></span>R√∂d dag / s√∂ndag</span>
        <span class="fk-item"><span class="prick prick-gron"></span>Skollov (valt l√§n)</span>
        <span class="fk-item"><span class="prick prick-bla"></span>Idag</span>
      </div>
    </div>

    <!-- FAQ-sektion -->
    <section class="faq-sektion" aria-label="Vanliga fr√•gor om veckonummer">
      <h2>Vanliga fr√•gor</h2>

      <details class="faq-item">
        <summary>Vilken vecka √§r det just nu?</summary>
        <p>Aktuellt veckonummer visas l√∂pande h√§r p√• VilketVeckonummer.se. Veckonumret ber√§knas enligt ISO 8601 ‚Äì den standard som anv√§nds i Sverige och hela Norden.</p>
      </details>

      <details class="faq-item">
        <summary>N√§r b√∂rjar och slutar en vecka i Sverige?</summary>
        <p>I Sverige b√∂rjar veckan p√• <strong>m√•ndag</strong> och slutar p√• <strong>s√∂ndag</strong>, enligt ISO 8601-standarden. Detta skiljer sig fr√•n t.ex. USA d√§r veckan traditionellt b√∂rjar p√• s√∂ndag.</p>
      </details>

      <details class="faq-item">
        <summary>Hur r√§knar man ut veckonumret?</summary>
        <p>Vecka 1 √§r alltid den vecka som inneh√•ller √•rets f√∂rsta torsdag. Ett √•r har 52 eller 53 veckor. Om 1 januari infaller p√• en fredag, l√∂rdag eller s√∂ndag tillh√∂r den f√∂reg√•ende √•rets sista vecka.</p>
      </details>

      <details class="faq-item">
        <summary>N√§r √§r sportlovet 2026?</summary>
        <p>Sportlovet 2026 ligger olika beroende p√• l√§n: <strong>Norra Sverige</strong> (v.8, 16‚Äì20 feb), <strong>Mellansverige</strong> (v.7, 9‚Äì13 feb) och <strong>S√∂dra Sverige</strong> (v.9, 23‚Äì27 feb). V√§lj ditt l√§n i kalendern f√∂r att se exakta datum.</p>
      </details>

      <details class="faq-item">
        <summary>Vilka √§r Sveriges r√∂da dagar?</summary>
        <p>Sveriges officiella helgdagar √§r: Ny√•rsdagen (1 jan), Trettondedag jul (6 jan), L√•ngfredag, P√•skdagen, Annandag p√•sk, Kristi himmelsf√§rdsdag, Pingstdagen, Nationaldagen (6 jun), Midsommardagen, Alla helgons dag, Juldagen (25 dec) och Annandag jul (26 dec). Alla dessa markeras automatiskt i kalendern p√• VilketVeckonummer.se.</p>
      </details>

      <details class="faq-item">
        <summary>N√§r √§r p√•sklovet 2026?</summary>
        <p>P√•sklovet 2026 infaller vecka 14, med start 2 april och slut 9 april. Detta g√§ller f√∂r de flesta l√§n men kan variera n√•gra dagar beroende p√• kommun.</p>
      </details>

      <details class="faq-item">
        <summary>Hur m√•nga veckor √§r det √•r 2026?</summary>
        <p>√Ör 2026 inneh√•ller <strong>53 ISO-veckor</strong>. Vecka 53 b√∂rjar m√•ndag 28 december 2026 och str√§cker sig in i januari 2027. Det h√§nder de √•r d√• 1 januari infaller p√• en torsdag eller fredag.</p>
      </details>

      <details class="faq-item">
        <summary>Vilken vecka b√∂rjar 2026?</summary>
        <p>Vecka 1 √•r 2026 b√∂rjar <strong>m√•ndag 29 december 2025</strong> och slutar s√∂ndag 4 januari 2026. Det beror p√• att vecka 1 alltid √§r den vecka som inneh√•ller √•rets f√∂rsta torsdag ‚Äì och den f√∂rsta torsdagen 2026 √§r 1 januari.</p>
      </details>

      <details class="faq-item">
        <summary>Midsommar 2026 ‚Äì vilken vecka?</summary>
        <p>Midsommarafton 2026 √§r <strong>fredagen den 19 juni</strong> och Midsommardagen √§r l√∂rdagen den 20 juni. Dessa dagar infaller vecka <strong>25</strong>. Midsommarhelgen firas alltid den fredag‚Äìl√∂rdag som infaller n√§rmast 24 juni.</p>
      </details>

      <details class="faq-item">
        <summary>Sommarlov 2026 ‚Äì vilka veckor?</summary>
        <p>Sommarlovet 2026 startar f√∂r de flesta elever omkring vecka <strong>24‚Äì25</strong> (mitten av juni) och slutar vecka <strong>33‚Äì34</strong> (mitten av augusti). Exakta datum varierar per skola och kommun. V√§lj ditt l√§n i kalendern f√∂r att se lovmarkeringen f√∂r din region.</p>
      </details>

      <details class="faq-item">
        <summary>H√∂stlov 2026 ‚Äì vilken vecka?</summary>
        <p>H√∂stlovet 2026 infaller f√∂r de flesta skolor vecka <strong>44</strong> (26‚Äì30 oktober). Precis som med √∂vriga skollov kan datumen variera med n√•gra dagar beroende p√• l√§nets schema. V√§lj ditt l√§n i kalendern f√∂r exakta datum.</p>
      </details>
    </section>

    <div class="sajt-footer">
      <nav>
        <a href="veckor/index.html">Alla veckor</a>
        <a href="om-oss.html">Om sajten</a>
        <a href="kontakt.html">Kontakt</a>
        <a href="integritetspolicy.html">Integritetspolicy</a>
      </nav>
      <p>Lovdatum √§r ungef√§rliga och kan variera per kommun. &copy; <span id="ar"></span> VilketVeckonummer.se</p>
    </div>
  </main>

  <!-- H√∂ger annons (l√§gg till slot-ID efter godk√§nnande) -->
  <aside class="annons-col">
  </aside>

</div>

<script>
  // ‚îÄ‚îÄ Sidvisningsr√§knare (per webbl√§sare/enhet) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  (function () {
    try {
      const TOTAL   = 'vvn-tot';
      const nu      = new Date();
      const MANAD   = 'vvn-m-' + nu.getFullYear() + '-' + (nu.getMonth() + 1);

      // Rensa gamla m√•nadsnycklar f√∂r att h√•lla localStorage rent
      Object.keys(localStorage)
        .filter(k => k.startsWith('vvn-m-') && k !== MANAD)
        .forEach(k => localStorage.removeItem(k));

      const totalt  = (parseInt(localStorage.getItem(TOTAL))  || 0) + 1;
      const manaden = (parseInt(localStorage.getItem(MANAD)) || 0) + 1;
      localStorage.setItem(TOTAL, totalt);
      localStorage.setItem(MANAD, manaden);

    } catch (e) {}
  })();

  // ‚îÄ‚îÄ Hj√§lpfunktioner ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function isoVecka(date) {
    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
    const dag = d.getUTCDay() || 7;
    d.setUTCDate(d.getUTCDate() + 4 - dag);
    const jan1 = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
    return Math.ceil((((d - jan1) / 86400000) + 1) / 7);
  }

  function isoVeckaAr(date) {
    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
    const dag = d.getUTCDay() || 7;
    d.setUTCDate(d.getUTCDate() + 4 - dag);
    return d.getUTCFullYear();
  }

  function datumNyckel(y, m, d) {
    return `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
  }

  function laggTillDagar(date, n) {
    const d = new Date(date); d.setDate(d.getDate() + n); return d;
  }

  // P√•sk (Meeus/Jones/Butcher)
  function pask(year) {
    const a=year%19,b=Math.floor(year/100),c=year%100,
          dd=Math.floor(b/4),e=b%4,f=Math.floor((b+8)/25),
          g=Math.floor((b-f+1)/3),h=(19*a+b-dd-g+15)%30,
          i=Math.floor(c/4),k=c%4,l=(32+2*e+2*i-h-k)%7,
          mv=Math.floor((a+11*h+22*l)/451),
          month=Math.floor((h+l-7*mv+114)/31)-1,
          day=((h+l-7*mv+114)%31)+1;
    return new Date(year,month,day);
  }

  // Svenska helgdagar
  function helgdagar(year) {
    const h = {};
    const add = (date, namn) =>
      h[datumNyckel(date.getFullYear(), date.getMonth(), date.getDate())] = namn;
    const fast = (m, d, namn) => add(new Date(year, m, d), namn);
    fast(0,1,'Ny√•rsdagen'); fast(0,6,'Trettondedag jul');
    fast(4,1,'F√∂rsta maj'); fast(5,6,'Sveriges nationaldag');
    fast(11,25,'Juldagen'); fast(11,26,'Annandag jul');
    const e = pask(year);
    [[-2,'L√•ngfredag'],[0,'P√•skdagen'],[1,'Annandag p√•sk'],
     [39,'Kristi himmelsf√§rdsdag'],[49,'Pingstdagen']].forEach(([off,namn]) =>
      add(laggTillDagar(e,off),namn));
    const mid = new Date(year,5,20);
    while (mid.getDay()!==6) mid.setDate(mid.getDate()+1);
    add(mid,'Midsommardagen');
    const ah = new Date(year,9,31);
    while (ah.getDay()!==6) ah.setDate(ah.getDate()+1);
    add(ah,'Alla helgons dag');
    return h;
  }

  // ‚îÄ‚îÄ Skollovdata ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function lovPerioder(sportVecka) {
    const sport = {
      v7: { from:[2026,1,9],  to:[2026,1,13] },
      v8: { from:[2026,1,16], to:[2026,1,20] },
      v9: { from:[2026,1,23], to:[2026,1,27] },
      v10:{ from:[2026,2,2],  to:[2026,2,6]  },
    }[sportVecka];
    return [
      { namn:'H√∂stlov 2025',              from:[2025,9,27],  to:[2025,9,31]  },
      { namn:'Jullov 2025‚Äì2026',          from:[2025,11,20], to:[2026,0,7]   },
      { namn:`Sportlov 2026 (${sportVecka})`, from:sport.from, to:sport.to   },
      { namn:'P√•sklov 2026',              from:[2026,3,2],   to:[2026,3,9]   },
      { namn:'Sommarlov 2026',            from:[2026,5,11],  to:[2026,7,16]  },
      { namn:'H√∂stlov 2026',              from:[2026,9,26],  to:[2026,9,30]  },
    ];
  }

  const SKOLLOV = {
    norrbotten:'v10', vasterbotten:'v10', vasternorrland:'v10', jamtland:'v10',
    gavleborg:'v9',   dalarna:'v9',
    varmland:'v9',    vastmanland:'v9',   stockholm:'v9',       gotland:'v9',
    orebro:'v8',      sodermanland:'v8',  ostergotland:'v8',    kalmar:'v8',
    blekinge:'v8',    kronoberg:'v8',     skane:'v8',           halland:'v8',
    jonkoping:'v7',   vastragotaland:'v7', uppsala:'v8',
  };

  function byggLovSet(lansNyckel) {
    const result = {};
    if (!lansNyckel) return result;
    lovPerioder(SKOLLOV[lansNyckel]).forEach(({ namn, from, to }) => {
      const start = new Date(from[0],from[1],from[2]);
      const slut  = new Date(to[0],  to[1],  to[2]);
      for (const d = new Date(start); d <= slut; d.setDate(d.getDate()+1))
        result[datumNyckel(d.getFullYear(),d.getMonth(),d.getDate())] = namn;
    });
    return result;
  }

  // Hitta lovnamnet f√∂r en vecka (returnerar f√∂rsta hittade lovnamn den veckan)
  function lovNamnForVecka(vkDat, lovSet) {
    for (let i = 0; i < 7; i++) {
      const d = laggTillDagar(vkDat, i);
      const nyckel = datumNyckel(d.getFullYear(), d.getMonth(), d.getDate());
      if (lovSet[nyckel]) return lovSet[nyckel];
    }
    return null;
  }

  // ‚îÄ‚îÄ Init ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const DAGNAMN   = ['s√∂ndag','m√•ndag','tisdag','onsdag','torsdag','fredag','l√∂rdag'];
  const MANADNAMN = ['januari','februari','mars','april','maj','juni',
                     'juli','augusti','september','oktober','november','december'];
  const SASONG     = { 0:'vinter',1:'vinter',2:'spring',3:'spring',4:'spring',
                       5:'summer',6:'summer',7:'summer',8:'fall',9:'fall',10:'fall',11:'vinter' };
  const SASONG_ALT = { vinter:'Vinter', spring:'V√•r', summer:'Sommar', fall:'H√∂st' };
  const imgEl      = document.getElementById('sasong-img');

  let nu, idag, idagNyckel;

  function setDatum(datum) {
    nu          = datum;
    idag        = { y:nu.getFullYear(), m:nu.getMonth(), d:nu.getDate() };
    idagNyckel  = datumNyckel(idag.y, idag.m, idag.d);

    document.getElementById('vecka-siffra').textContent = isoVecka(nu);
    document.getElementById('vecka-datum').textContent  =
      `${DAGNAMN[nu.getDay()]} ${idag.d} ${MANADNAMN[idag.m]} ${idag.y}`;

    const bildNamn = SASONG[idag.m];
    imgEl.src = `images/${bildNamn}.png`;
    imgEl.alt = SASONG_ALT[bildNamn];
    const pgBg = document.getElementById('pg-bg-img');
    if (pgBg) pgBg.src = `images/${bildNamn}.png`;
  }

  setDatum(new Date());

  function uppdateraBanner(lovSet) {
    const banner  = document.getElementById('vecka-lov-banner');
    const namnEl  = document.getElementById('vecka-lov-namn');
    const vkStart = new Date(idag.y, idag.m, idag.d);
    // G√• till m√•ndagen denna vecka
    const dagISV = (vkStart.getDay() || 7) - 1;
    vkStart.setDate(vkStart.getDate() - dagISV);
    const lov = lovNamnForVecka(vkStart, lovSet);
    if (lov) {
      namnEl.textContent = lov;
      banner.classList.remove('dold');
    } else {
      banner.classList.add('dold');
    }
  }

  let kalAr = new Date().getFullYear(), kalMan = new Date().getMonth();

  function ritar() {
    const grid   = document.getElementById('cal-grid');
    const rubrik = document.getElementById('cal-title');
    grid.innerHTML = '';

    const hols = Object.assign({},
      helgdagar(kalAr-1), helgdagar(kalAr), helgdagar(kalAr+1));
    const lovSet = byggLovSet(document.getElementById('lan').value);

    uppdateraBanner(lovSet);

    rubrik.textContent = `${MANADNAMN[kalMan]} ${kalAr}`;

    const nuVecka   = isoVecka(nu);
    const nuVeckaAr = isoVeckaAr(nu);

    // Rubrikrad
    const horn = document.createElement('div');
    horn.className = 'cal-cell horn'; horn.textContent = 'v.';
    grid.appendChild(horn);

    ['M√•n','Tis','Ons','Tor','Fre','L√∂r','S√∂n'].forEach((lbl,i) => {
      const c = document.createElement('div');
      c.className = 'cal-cell vd' + (i===6?' son':'');
      c.textContent = lbl;
      grid.appendChild(c);
    });

    // Dagceller
    const forstaISO   = (new Date(kalAr,kalMan,1).getDay()||7);
    const dagarIManed = new Date(kalAr,kalMan+1,0).getDate();
    const dagarIForra = new Date(kalAr,kalMan,0).getDate();

    const celler = [];
    for (let i=forstaISO-1;i>0;i--) {
      const pm=kalMan===0?11:kalMan-1, py=kalMan===0?kalAr-1:kalAr;
      celler.push({y:py,m:pm,d:dagarIForra-i+1,inne:false});
    }
    for (let d=1;d<=dagarIManed;d++) celler.push({y:kalAr,m:kalMan,d,inne:true});
    const rest=(7-(celler.length%7))%7;
    for (let d=1;d<=rest;d++) {
      const nm=kalMan===11?0:kalMan+1, ny=kalMan===11?kalAr+1:kalAr;
      celler.push({y:ny,m:nm,d,inne:false});
    }

    celler.forEach((cell,i) => {
      if (i%7===0) {
        const vkDat  = new Date(cell.y,cell.m,cell.d);
        const vk     = isoVecka(vkDat);
        const vkAr   = isoVeckaAr(vkDat);
        const arNu   = vk===nuVecka && vkAr===nuVeckaAr;
        const lovNmn = lovNamnForVecka(vkDat, lovSet);
        const vkEl   = document.createElement('div');
        let vkCls    = 'cal-cell vk';
        if (arNu)   vkCls += ' nu';
        if (lovNmn) vkCls += ' lov-vk';
        vkEl.className   = vkCls;
        vkEl.textContent = vk;
        if (lovNmn) vkEl.title = lovNmn;
        grid.appendChild(vkEl);
      }

      const {y,m,d} = cell;
      const dato    = new Date(y,m,d);
      const nyckel  = datumNyckel(y,m,d);
      const arSon   = dato.getDay()===0;
      const helgdag = hols[nyckel];
      const lov     = lovSet[nyckel];
      const arRod   = arSon||!!helgdag;
      const arIdag  = nyckel===idagNyckel;

      let cls = 'cal-cell dag';
      if (cell.inne) cls+=' inne'; else cls+=' tonad';
      if (arRod)  cls+=' rod';
      if (lov)    cls+=' lov';
      if (arIdag) cls+=' idag';

      const el = document.createElement('div');
      el.className   = cls;
      el.textContent = d;
      const tips = [helgdag,lov].filter(Boolean);
      if (tips.length) el.title = tips.join(' ¬∑ ');
      grid.appendChild(el);
    });

    // ‚îÄ‚îÄ Lovlista under kalendern ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    const lovListaEl = document.getElementById('lov-lista');
    lovListaEl.innerHTML = '';
    if (document.getElementById('lan').value) {
      // Samla unika lovperioder synliga i denna vy
      const synligaLov = new Map();
      celler.forEach(cell => {
        const nyckel = datumNyckel(cell.y, cell.m, cell.d);
        const lovNmn = lovSet[nyckel];
        if (!lovNmn) return;
        if (!synligaLov.has(lovNmn)) {
          synligaLov.set(lovNmn, { from: new Date(cell.y, cell.m, cell.d), to: new Date(cell.y, cell.m, cell.d) });
        } else {
          const e = synligaLov.get(lovNmn);
          const d2 = new Date(cell.y, cell.m, cell.d);
          if (d2 < e.from) e.from = d2;
          if (d2 > e.to)   e.to   = d2;
        }
      });
      synligaLov.forEach((range, namn) => {
        const fmt = d => `${d.getDate()} ${MANADNAMN[d.getMonth()]}`;
        const vecka = isoVecka(range.from);
        const rad = document.createElement('div');
        rad.className = 'lov-rad';
        rad.innerHTML =
          `<span class="lov-rad-namn">${namn}</span>` +
          `<span class="lov-rad-datum">${fmt(range.from)}\u2013${fmt(range.to)}</span>` +
          `<span class="lov-rad-vecka">v.${vecka}</span>`;
        lovListaEl.appendChild(rad);
      });
    }
  }

  document.getElementById('prev').addEventListener('click', () => {
    if (--kalMan<0){kalMan=11;kalAr--;} ritar();
  });
  document.getElementById('next').addEventListener('click', () => {
    if (++kalMan>11){kalMan=0;kalAr++;} ritar();
  });
  document.getElementById('lan').addEventListener('change', ritar);

  document.getElementById('ar').textContent = new Date().getFullYear();

  // ‚îÄ‚îÄ Autodetektera l√§n via IP-geolokalisering ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const REGION_TILL_LAN = [
    { nycklar:['norrbotten'],                        lan:'norrbotten'      },
    { nycklar:['v√§sterbotten','vasterbotten'],       lan:'vasterbotten'    },
    { nycklar:['v√§sternorrland','vasternorrland'],   lan:'vasternorrland'  },
    { nycklar:['j√§mtland','jamtland'],               lan:'jamtland'        },
    { nycklar:['g√§vleborg','gavleborg'],             lan:'gavleborg'       },
    { nycklar:['dalarna','dalarnas'],                lan:'dalarna'         },
    { nycklar:['v√§rmland','varmland'],               lan:'varmland'        },
    { nycklar:['√∂rebro','orebro'],                   lan:'orebro'          },
    { nycklar:['v√§stmanland','vastmanland'],         lan:'vastmanland'     },
    { nycklar:['uppsala'],                           lan:'uppsala'         },
    { nycklar:['stockholm'],                         lan:'stockholm'       },
    { nycklar:['s√∂dermanland','sodermanland'],       lan:'sodermanland'    },
    { nycklar:['√∂sterg√∂tland','ostergotland'],       lan:'ostergotland'    },
    { nycklar:['j√∂nk√∂ping','jonkoping'],             lan:'jonkoping'       },
    { nycklar:['kalmar'],                            lan:'kalmar'          },
    { nycklar:['gotland'],                           lan:'gotland'         },
    { nycklar:['blekinge'],                          lan:'blekinge'        },
    { nycklar:['kronoberg'],                         lan:'kronoberg'       },
    { nycklar:['sk√•ne','skane','scania'],            lan:'skane'           },
    { nycklar:['halland'],                           lan:'halland'         },
    { nycklar:['v√§stra g√∂taland','vastragotaland','v√§stra gotaland'], lan:'vastragotaland' },
  ];

  function matchaLan(regionText) {
    const r = regionText.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'');
    for (const { nycklar, lan } of REGION_TILL_LAN) {
      if (nycklar.some(k => r.includes(k.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'')))) {
        return lan;
      }
    }
    return null;
  }

  // S√§tt sparat l√§nsval synkront innan f√∂rsta render
  const sparatLan = localStorage.getItem('valt-lan');
  if (sparatLan) {
    const sel = document.getElementById('lan');
    if ([...sel.options].some(o => o.value === sparatLan)) {
      sel.value = sparatLan;
    }
  }

  document.getElementById('lan').addEventListener('change', () => {
    localStorage.setItem('valt-lan', document.getElementById('lan').value);
  });

  // Rita sidan direkt ‚Äì utan att v√§nta p√• API
  ritar();

  // Geolokalisera via API f√∂rst efter att allt √§r laddat, och bara om inget √§r sparat
  if (!sparatLan) {
    window.addEventListener('load', () => {
      fetch('https://ipapi.co/json/')
        .then(r => r.json())
        .then(data => {
          if (data.country_code !== 'SE') return;
          const lan = matchaLan(data.region || '');
          if (!lan) return;
          const sel = document.getElementById('lan');
          sel.value = lan;
          localStorage.setItem('valt-lan', lan);
          ritar();
        })
        .catch(() => {});
    });
  }
</script>
<script>
  window.addEventListener('load', function() {
    if (location.hostname.includes('vilketveckonummer.se')) {
      var vi = document.createElement('script');
      vi.defer = true;
      vi.src = '/_vercel/insights/script.js';
      document.head.appendChild(vi);
    }
  });
</script>
<!-- Cookie-samtyckesbanner (GDPR) -->
<div id="cookie-banner" style="display:none;position:fixed;bottom:0;left:0;right:0;z-index:9999;background:#1e2250;color:#fff;padding:1rem 1.5rem;align-items:center;gap:0.75rem;flex-wrap:wrap;justify-content:space-between;box-shadow:0 -4px 20px rgba(0,0,0,0.25);">
  <p style="margin:0;font-size:0.84rem;flex:1 1 280px;line-height:1.5;">Vi anv√§nder cookies f√∂r att visa anpassade annonser via Google AdSense. L√§s mer i v√•r <a href="integritetspolicy.html" style="color:#a78bfa;">integritetspolicy</a>.</p>
  <div style="display:flex;gap:0.5rem;flex-shrink:0;">
    <button id="cookie-ok" style="background:linear-gradient(135deg,#4f71f0,#a78bfa);border:none;color:#fff;padding:0.5rem 1.25rem;border-radius:0.5rem;font-weight:700;cursor:pointer;font-size:0.85rem;">Acceptera</button>
    <button id="cookie-nej" style="background:transparent;border:1.5px solid rgba(255,255,255,0.35);color:#fff;padding:0.5rem 0.9rem;border-radius:0.5rem;font-weight:600;cursor:pointer;font-size:0.85rem;">Avvisa</button>
  </div>
</div>
<script>
(function(){
  var c=localStorage.getItem('cookie-consent'),b=document.getElementById('cookie-banner');
  if(c==='accepted'){gtag('consent','update',{'ad_storage':'granted','analytics_storage':'granted','ad_user_data':'granted','ad_personalization':'granted'});}
  else if(!c){b.style.display='flex';}
  document.getElementById('cookie-ok').onclick=function(){localStorage.setItem('cookie-consent','accepted');gtag('consent','update',{'ad_storage':'granted','analytics_storage':'granted','ad_user_data':'granted','ad_personalization':'granted'});b.style.display='none';};
  document.getElementById('cookie-nej').onclick=function(){localStorage.setItem('cookie-consent','denied');b.style.display='none';};
})();
</script>
</body>
</html>
